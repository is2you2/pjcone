<ion-header>
  <ion-toolbar>
    <ion-title>{{lang.text['Settings']['WebLinkGen']}}</ion-title>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="portal/settings"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-item-divider>
    <ion-label>{{lang.text['WebLinkGen']['subtitle']}}</ion-label>
  </ion-item-divider>
  <div (click)="copy_result_address()">
    <textarea class="infobox" [(ngModel)]="result_address" disabled></textarea>
  </div>
  <ion-item>
    <ion-label>{{lang.text['WebLinkGen']['baseURL']}}</ion-label>
    <ion-input class="ion-text-end" [(ngModel)]="userInput.root"
      placeholder="https://is2you2.github.io/pjcone_pwa/" (ionChange)="baseURLChanged($event)"></ion-input>
  </ion-item>
  <ion-item button (click)="userInput.open_profile = !userInput.open_profile">
    <ion-label>{{lang.text['WebLinkGen']['OpenProfile']}}</ion-label>
    <ion-toggle class="ignore_toggles" [(ngModel)]="userInput.open_profile" slot="end"></ion-toggle>
  </ion-item>
  <ion-item button (click)="userInput.open_subscribes = !userInput.open_subscribes">
    <ion-label>{{lang.text['WebLinkGen']['OpenChannelTab']}}</ion-label>
    <ion-toggle class="ignore_toggles" [(ngModel)]="userInput.open_subscribes" slot="end"></ion-toggle>
  </ion-item>
  <ion-item button (click)="userInput.use_tmp_user = !userInput.use_tmp_user">
    <ion-label>{{lang.text['WebLinkGen']['UseTempUser']}}</ion-label>
    <ion-toggle class="ignore_toggles" [(ngModel)]="userInput.use_tmp_user" slot="end"></ion-toggle>
  </ion-item>
  <div *ngIf="userInput.use_tmp_user">
    <ion-item>
      <ion-label>{{lang.text['Profile']['email_address']}}</ion-label>
      <ion-input class="ion-text-end" [(ngModel)]="userInput.tmp_user.email" placeholder="test@example.com"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label>{{lang.text['Profile']['password']}}</ion-label>
      <ion-input class="ion-text-end" [(ngModel)]="userInput.tmp_user.password"
        [placeholder]="lang.text['Profile']['at_least']"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label>{{lang.text['Profile']['user_display_name']}}</ion-label>
      <ion-input class="ion-text-end" [(ngModel)]="userInput.tmp_user.display_name"
        [placeholder]="lang.text['Profile']['name_placeholder']"></ion-input>
    </ion-item>
  </div>
</ion-content>