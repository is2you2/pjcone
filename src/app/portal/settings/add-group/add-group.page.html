<ion-header>
  <ion-toolbar>
    <ion-title>그룹 생성하기</ion-title>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="settings"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-accordion-group [disabled]="isSaveClicked" value="colors" expand="inset" [value]="isExpanded" #accordionGroup
    (click)="isExpanded = true">
    <ion-accordion value="colors">
      <ion-item slot="header">
        <ion-label>서버 선택</ion-label>
        <ion-label class="ion-text-right">{{server_list[selected_index].title}}</ion-label>
      </ion-item>
      <ion-list slot="content">
        <ion-item *ngFor="let server of server_list; index as i" button (click)="select_server(i)">
          <ion-label>{{server.title}}</ion-label>
        </ion-item>
      </ion-list>
    </ion-accordion>
  </ion-accordion-group>
  <ion-item-divider>
    <ion-label>그룹 정보</ion-label>
  </ion-item-divider>
  <ion-item [disabled]="isSaveClicked" button>
    <ion-label>표시명</ion-label>
    <ion-input required class="ion-text-right" [(ngModel)]="userInput.title" [placeholder]="'그룹 이름'"></ion-input>
  </ion-item>
  <ion-item disabled>
    <ion-label>그룹 ID</ion-label>
    <ion-label class="ion-text-right">{{userInput.id ?? '생성 후 발급'}}</ion-label>
  </ion-item>
  <ion-item-divider>
    <ion-label>그룹 상세</ion-label>
  </ion-item-divider>
  <textarea class="infobox" [disabled]="isSaveClicked" [(ngModel)]="info" style="height: 240px;"
    [(ngModel)]="userInput.desc" [placeholder]="'그룹 설명'"></textarea>
  <ion-item [disabled]="isSaveClicked" button>
    <ion-label>국가 태그</ion-label>
    <ion-input class="ion-text-right" [(ngModel)]="userInput.lang" [placeholder]="'ko'"></ion-input>
  </ion-item>
  <ion-item [disabled]="isSaveClicked">
    <ion-label>최대 인원</ion-label>
    <ion-input type="number" class="ion-text-right" min="2" [(ngModel)]="userInput.max" [placeholder]="'2'"></ion-input>
    <ion-label class="ion-text-right">명</ion-label>
  </ion-item>
  <ion-item [disabled]="isSaveClicked" button (click)="isPublicToggle()">
    <ion-label>공개 여부</ion-label>
    <ion-toggle slot="end" style="pointer-events: none;" [(ngModel)]="userInput.isPublic"></ion-toggle>
  </ion-item>
  <ion-item button (click)="save()" [disabled]="isSaveClicked">
    <ion-label class="ion-text-center">위 정보로 추가하기</ion-label>
  </ion-item>
</ion-content>