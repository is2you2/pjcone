<!-- SPDX-FileCopyrightText: © 2023 그림또따 <is2you246@gmail.com>
SPDX-License-Identifier: MIT -->

<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-title>{{lang.text['Settings']['quickQRshare']}}</ion-title>
    <ion-buttons slot="start" (click)="modalCtrl.dismiss()">
      <ion-back-button defaultHref=""></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-item-divider>
    <ion-label>{{lang.text['QuickQRShare']['SelectData']}}</ion-label>
  </ion-item-divider>
  <ion-item>
    <ion-select [label]="lang.text['QuickQRShare']['GroupServer']" (ionChange)="SelectGroupServer($event)"
      multiple="true" [placeholder]="lang.text['QuickQRShare']['EmptyData']">
      <ion-select-option *ngFor="let gs of servers" [value]="gs">{{gs['name']}} </ion-select-option>
    </ion-select>
  </ion-item>
  <ion-item>
    <ion-select [label]="lang.text['QuickQRShare']['Group']" (ionChange)="SelectGroupChannel($event)" multiple="true"
      [placeholder]="lang.text['QuickQRShare']['EmptyData']">
      <ion-select-option *ngFor="let ginfo of groups" [value]="ginfo">{{ginfo['name'] + ' (' +
        ginfo['server']['name'] + ')'}}</ion-select-option>
    </ion-select>
  </ion-item>
  <ion-item>
    <ion-select [label]="lang.text['WebRTCDevManager']['Title']" (ionChange)="SelectRTCServer($event)" multiple="true"
      [placeholder]="lang.text['QuickQRShare']['EmptyData']">
      <ion-select-option *ngFor="let server of rtcServer" [value]="server">
        {{ server.urls[0] }}</ion-select-option>
    </ion-select>
  </ion-item>
  <ion-item *ngIf="!NoReturn" [disabled]="!ActKeyLength" button (click)="scanQRCode()">
    <ion-label class="ion-text-center">{{lang.text['QuickQRShare']['SendData']}}</ion-label>
  </ion-item>
  <ion-item-divider>
    <ion-label>{{lang.text['QuickQRShare']['ReceiveData']}}</ion-label>
  </ion-item-divider>
  <img *ngIf="QRCodeSRC" [src]="QRCodeSRC" style="width: 100%; height: auto; cursor: copy;" alt="QRCodeSRC">
</ion-content>