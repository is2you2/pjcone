<!-- SPDX-FileCopyrightText: © 2023 그림또따 <is2you246@gmail.com>
SPDX-License-Identifier: MIT -->

<ion-header *ngIf="ToggleHeader">
  <ion-toolbar>
    <ion-title>{{lang.text['Settings']['EnginePPT']}}</ion-title>
    <ion-buttons slot="start" (click)="go_back()">
      <ion-back-button defaultHref=""></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div *ngIf="Status == 'initPWA'">
    <div id="p5Drop" style="position: absolute; width: 100%; height: 100%;"></div>
    <div *ngIf="QRCode">
      <ion-item-divider>
        <ion-label>{{lang.text['EngineWorksPPT']['LinkTitle']}}</ion-label>
      </ion-item-divider>
      <img [src]="QRCode" style="width: 100%; height: auto;" alt="QRCode Loading">
    </div>
    <div *ngIf="!LinkedAddress">
      <ion-item-divider>
        <ion-label>{{lang.text['EngineWorksPPT']['ManualLink']}}</ion-label>
      </ion-item-divider>
      <ion-item>
        <ion-label>{{lang.text['EngineWorksPPT']['Address']}}</ion-label>
        <ion-input class="ion-text-end" [(ngModel)]="InputAddress"
          [placeholder]="lang.text['EngineWorksPPT']['InputAddress'] + ' (IPv4)'"></ion-input>
      </ion-item>
      <ion-item button [disabled]="ConnectButtonDisabled" (click)="ConnectToAddress()">
        <ion-label class="ion-text-center">{{lang.text['EngineWorksPPT']['Connect']}}</ion-label>
      </ion-item>
    </div>
    <ion-item-divider>
      <ion-label>{{lang.text['EngineWorksPPT']['JustStart']}}</ion-label>
    </ion-item-divider>
    <ion-item button (click)="buttonClickLinkInputFile()">
      <ion-label class="ion-text-center">{{lang.text['EngineWorksPPT']['DropFileHere']}}</ion-label>
    </ion-item>
    <input hidden type="file" [id]="engine_ppt_file_sel" accept="*" (change)="inputpckselected($event)">
  </div>
  <div *ngIf="Status == 'initApp'">
    <ion-item-divider>
      <ion-label>{{lang.text['EngineWorksPPT']['Manual']}}</ion-label>
    </ion-item-divider>
    <textarea class="infobox" style="height: 280px;" disabled [(ngModel)]="RemoteDesc"></textarea>
    <ion-item button>
      <div class="additional_form status_bar_single"
        [style]="'background-color: ' + statusBar.colors[(statusBar.tools['engineppt']) || 'offline']"></div>
      <ion-label class="form_margin">{{lang.text['EngineWorksPPT']['RemoteServer']}}</ion-label>
    </ion-item>
    <ion-item button [disabled]="statusBar.tools['engineppt'] != 'certified'" (click)="buttonClickSelectPckFromMobile()">
      <ion-label>{{lang.text['EngineWorksPPT']['StartFromMobile']}}</ion-label>
    </ion-item>
    <input hidden type="file" [id]="engine_ppt_mobile_sel" accept="*" (change)="mobilepckselected($event)">
    <ion-item button (click)="CreateEngineController()">
      <ion-label class="ion-text-center">{{lang.text['EngineWorksPPT']['StartRemote']}}</ion-label>
    </ion-item>
  </div>
  <div *ngIf="Status == 'OnPresentation'" class="full_screen" id="engineppt"></div>
</ion-content>