<ion-header>
  <ion-toolbar>
    <ion-title>{{lang.text['ShareContentToOther']['Title']}}</ion-title>
    <ion-buttons slot="start" (click)="modalCtrl.dismiss()">
      <ion-back-button defaultHref=""></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-item-divider>
    <ion-label>{{lang.text['ShareContentToOther']['AvailableChannels']}}</ion-label>
  </ion-item-divider>
  <ion-item *ngFor="let channel of channels" button (click)="go_to_chatroom(channel)">
    <div class="additional_form status_bar_double"
      [style]="'background-color: ' + statusBar.colors[channel['status'] || 'offline']">
      <div *ngIf="channel['is_new']" class="new_circle"></div>
    </div>
    <div class="additional_form bg_img_form">
      <img *ngIf="channel['info']" class="profile_img"
        [style]="(channel['status'] == 'online' || (channel['redirect']['type'] == 3 && channel['status'] == 'pending')) ? 'filter: grayscale(0) contrast(1)' : 'filter: grayscale(.9) contrast(1.4)'"
        [src]="channel['info']['img']">
    </div>
    <ion-label>
      <div class="form_margin header">
        <table>
          <tr>
            <td>
              {{channel['info'] ? (channel['info']['name'] || channel['info']['display_name'] ||
              lang.text['ChatRoom']['noname_chatroom']) : (channel['title'] ||
              lang.text['ChatRoom']['noname_chatroom'])}}
            </td>
            <td class="server_target">
              {{'(' + channel['server']['target'] + ')'}}
            </td>
          </tr>
        </table>
      </div>
      <div class="form_margin content"> {{channel['last_comment'] || channel['noti'] ||
        lang.text['Subscribes']['noMessageHistory']}} </div>
    </ion-label>
  </ion-item>
</ion-content>